<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="manifest" href="/manifest.json">
    <meta charset="UTF-8">
    <title>test NOC Production</title>
    <script type="text/javascript">
        var clevertap = {event:[], profile:[], account:[], onUserLogin:[], notifications:[], privacy:[]};
        // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
        clevertap.account.push({"id": "W84-4WR-565Z"});
        clevertap.privacy.push({optOut: false}); //set the flag to true, if the user of the device opts out of sharing their data
        clevertap.privacy.push({useIP: false}); //set the flag to true, if the user agrees to share their IP data
        (function () {
            var wzrk = document.createElement('script');
            wzrk.type = 'text/javascript';
            wzrk.async = true;
            // wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/a.js';
            wzrk.src = 'https://static.clevertap.com/js/a.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wzrk, s);
        })();

        clevertap.notifications.push({
            "titleText":'Would you like to receive Push Notifications?',
            "bodyText":'We promise to only send you relevant content and give you updates on your transactions',
            "okButtonText":'Sign me up!',
            "rejectButtonText":'No thanks',
            "askAgainTimeInSeconds":1,
            "okButtonColor":'#f28046'});
    </script>
</head>
    <body>
        <script type="text/javascript">
            function pushprofile() {
                var id = makeid(5);
                clevertap.profile.push({
                    Site: {
                        Name: "User " + id, // User's name
                        Email: id + "@clevertap.com", // User's email
                        Phone: "+917710004770", // User's phone with country code
                        Gender: "aasd", // Can be either M or F
                        Employed: "Y", // Can be either Y or N
                        Education: "Graduate", // Can be either School, College or Graduate
                        Married: "Y", // Can be either Y or N
                        DOB: $WZRK_WR.setDate(20150501), // Set date in format yyyymmdd
                        Language: "Deutsche",
                        "MSG-email": true, // Disable email notifications
                        "MSG-push": true, // Enable push notifications
                        "MSG-sms": true // Enable sms notifications
                    }
                });
                console.log("pushprofile successful");
            }

            function pushbid() {
                clevertap.event.push("Place Bid");
                console.log("place bid");
            }

            function pushcharged() {
                clevertap.event.push("Charged", {
                    "Product name": "Casio Chronograph Watch",
                    ts: new Date()
                });
                console.log("push charged");
            }

            function pushProductSearched() {
                clevertap.event.push("Product Searched");
                console.log("push Product Searched");
            }

            function pushEventAddToCart() {
                clevertap.event.push("Added to Cart", {
                    "Product ID": "pr_57235721c9f9a1",
                    "product name": "Lamb Curry Cut1",
                    Price: 298,
                    Long_1: 6473329386,
                    Long_2: 2,
                    Currency: "INR"
                });
            }

            function pushEventReachableBy() {
                clevertap.event.push("Reachable By", {
                    "type": "SMS",
                    "value": "+918097036598"
                });
            }

            function clearLocalStorage() {
                localStorage.clear();
            }

            function makeid(length) {
                var text = "";
                var possible =
                    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

                for (var i = 0; i < length; i++)
                    text += possible.charAt(
                        Math.floor(Math.random() * possible.length)
                    );

                return text;
            }

            function logout() {
                clevertap.logout();
            }

            function onClickOUL() {
                clevertap.onUserLogin.push({
                    Site: {
                        Email: `qw${Math.ceil(
                            Math.random() * 10002312
                        )}@gmail.com`
                        // Email: "799726789@gmail.com"
                    }
                });
                getLS();
            }

            function onClickOULSame() {
                let value = document.getElementById("constantOUL").value;
                clevertap.onUserLogin.push({
                    Site: {
                        // Email: `${Math.ceil(Math.random() * 100012)}@gmail.com`
                        Email: `${value}@gmail.com`
                    }
                });
                getLS();
            }

            function onClickOULIdentitySame() {
                let value = document.getElementById("constantOULIdentity").value;
                clevertap.onUserLogin.push({
                    Site: {
                        // Email: `${Math.ceil(Math.random() * 100012)}@gmail.com`
                        Identity: `${value}`
                    }
                });
                getLS();
            }

            function onClickPP() {
                clevertap.profile.push({
                    Site: {
                        Email: `as${Math.ceil(
                            Math.random() * 10002320
                        )}@gmail.com`
                    }
                });
                getLS();
            }

            function onClickPPSame() {
                let value = document.getElementById("constantPP").value;
                clevertap.profile.push({
                    Site: {
                        Email: `${value}@gmail.com`
                    }
                });
            }

            function onClickPPIdentitySame() {
                let value = document.getElementById("constantPPIdentity").value;
                clevertap.profile.push({
                    Site: {
                        Identity: `${value}`
                    }
                });
            }

            function onClickEP() {
                clevertap.event.push("Product Eaten");
                clevertap.event.push("Message Received");
                clevertap.event.push("Message Viewed");
                clevertap.event.push("Product add to cart");
                getLS();
            }

            function pushSelectedEvents() {
                var adc = document.getElementById("adc").checked;
                var ps = document.getElementById("ps").checked;
                var pv = document.getElementById("pv").checked;
                var rb = document.getElementById("rb").checked;

                if (!adc && !ps && !pv && !rb) {
                    alert("Select atleast one event");
                    return;
                }
                if (adc) clevertap.event.push("Added to Cart");
                if (ps) clevertap.event.push("Product Sold");
                if (pv) clevertap.event.push("Product Viewed");
                if (rb) clevertap.event.push("Reachable By");


                document.getElementById("adc").checked = false;
                document.getElementById("ps").checked = false;
                document.getElementById("pv").checked = false;
                document.getElementById("rb").checked = false;
                getLS();
            }

            function getLS() {
                var LRU_CACHE = decodeURIComponent(localStorage["WZRK_X"]);
                var WZRK_K = decodeURIComponent(localStorage["WZRK_K"]);
                var WZRK_G = decodeURIComponent(localStorage["WZRK_G"]);
                var WZRK_EV = decodeURIComponent(localStorage["WZRK_EV"]);
                var WZRK_ARP = decodeURIComponent(localStorage["WZRK_ARP"]);

                var data = `<div>WZRK_K: ${WZRK_K}</div><br /><div>WZRK_G: ${WZRK_G}</div><br /><div>LRU_CAHCE: ${LRU_CACHE}</div><br /><div>WZRK_EV: ${WZRK_EV}</div><br /><div>WZRK_ARP: ${WZRK_ARP}</div>`;

                document.getElementById("lsData").innerHTML = data;
            }

            function clearLS() {
                localStorage.clear();
                getLS();
            }

            function getProfile() {
                var customerType = clevertap.profile.getAttribute("Customer type");
                console.log(customerType);
            }

            // clevertap.event.push("website viewed - vapid test");

        </script>
        <link rel="stylesheet" href="style.css" />
         <br />
        <button type="button" onclick="pushprofile()">Profile Push!</button>
        <br />
        <button type="button" onclick="pushEventReachableBy()">Reachable By  Push!</button>
       <!-- <br />
        <button type="button" onclick="pushProductSearched()">
            Product Searched
        </button>
        <br />
        <button type="button" onclick="pushEventAddToCart()">
            Add to Cart!
        </button>
        <br />
        <button type="button" onclick="pushcharged()">Charged!</button>
        <br />
        <button type="button" onclick="pushbid()">Bid!</button>
        <br />
        <button type="button" onclick="logout()">Deprecated -> Logout</button>
        <br />
        <button type="button" onclick="clearLocalStorage()">
            Clear Local Storage
        </button> -->
        <h1>Test A-JS</h1>
        <button onclick="onClickPP()">Random PP</button>
        <button onclick="onClickOUL()">Random OUL</button>
        <button onclick="onClickEP()">Event Push</button>
        <hr />
        <br />
        <p>On User Login</p>
        <input type="text" id="constantOUL" class="textInput" /><input
            type="text"
            disabled
            value="@gmail.com"
            class="textInput"
        />
        <button onclick="onClickOULSame()" class="inputBtn">OUL</button>
        <br />
        <hr />
        <p>On User Login Identity</p>
        <input type="text" id="constantOULIdentity" class="textInput" />
        <button onclick="onClickOULIdentitySame()" class="inputBtn">OUL Identity</button>
        <br />
        <hr />
        <p>Profile Push</p>
        <input type="text" id="constantPP" class="textInput" /><input
            type="text"
            disabled
            value="@gmail.com"
            class="textInput"
        />
        <button onclick="onClickPPSame()" class="inputBtn">PP</button>
        <hr />
        <p>PP Identity</p>
        <input type="text" id="constantPPIdentity" class="textInput" />
        <button onclick="onClickPPIdentitySame()" class="inputBtn">PP Identity</button>
        <br />
        <hr />
        <input type="checkbox" name="event" value="adc" id="adc" /> Added to
        Cart <br />
        <input type="checkbox" name="event" value="ps" id="ps" /> Product Sold
        <br />
        <input type="checkbox" name="event" value="pv" id="pv" /> Product Viewed
        <br />
        <input type="checkbox" name="event" value="rb" id="rb" /> Reachable By
        <br />
        <button id="eventPushSelect" onclick="pushSelectedEvents()">
            Push Selected Events
        </button>

        <br />
        <hr />
        <button
            onclick="getLS()"
            style="background: #2b39ff;color: white; padding: 5px"
        >
            Show Local Storage
        </button>
        <br /><br />
        <button
            onclick="clearLS()"
            style="background: red;color: white; padding: 5px"
        >
            Clear Local Storage
        </button>
        <br>
        <br />
        <br />
        <br />
        <hr />

        <div id="lsData"></div>
    </body>
</html>
